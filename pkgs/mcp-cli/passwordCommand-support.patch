--- a/src/config.ts
+++ b/src/config.ts
@@ -4,6 +4,7 @@
 
 import { existsSync } from 'node:fs';
 import { homedir } from 'node:os';
+import { spawnSync } from 'node:child_process';
 import { join, resolve } from 'node:path';
 import {
   ErrorCode,
@@ -39,6 +40,7 @@
   args?: string[];
   env?: Record<string, string>;
   cwd?: string;
+  passwordCommand?: Record<string, string[]>;
 }
 
 /**
@@ -183,6 +185,41 @@
 }
 
 /**
+ * Resolve passwordCommand entries by executing each command
+ * and returning a map of environment variable names to their resolved values.
+ *
+ * Matches the behavior of mcp-gateway: errors are logged to stderr but never crash.
+ *
+ * @param passwordCommand - Map of env var names to command arrays [cmd, ...args]
+ * @returns Map of env var names to resolved secret values
+ */
+export function resolvePasswordCommands(
+  passwordCommand: Record<string, string[]>,
+): Record<string, string> {
+  const resolved: Record<string, string> = {};
+
+  for (const [envVar, cmdArray] of Object.entries(passwordCommand)) {
+    if (!Array.isArray(cmdArray) || cmdArray.length === 0) {
+      console.error(`[mcp-cli] passwordCommand: invalid command for "${envVar}", skipping`);
+      continue;
+    }
+
+    const [cmd, ...args] = cmdArray;
+    const result = spawnSync(cmd, args, { timeout: 10_000, encoding: 'utf-8' });
+
+    if (result.status !== 0 || result.error) {
+      const errMsg = result.error?.message ?? result.stderr?.trim() ?? 'unknown error';
+      console.error(`[mcp-cli] passwordCommand: failed to resolve "${envVar}": ${errMsg}`);
+      continue;
+    }
+
+    resolved[envVar] = result.stdout.trim();
+  }
+
+  return resolved;
+}
+
+/**
  * Get configured timeout in milliseconds
  * @env MCP_TIMEOUT - timeout in seconds (default: 1800 = 30 minutes)
  */

--- a/src/client.ts
+++ b/src/client.ts
@@ -19,6 +19,7 @@
   isDaemonEnabled,
   isHttpServer,
   isToolAllowed,
+  resolvePasswordCommands,
 } from './config.js';
 import {
   type DaemonConnection,
@@ -317,6 +318,14 @@
   if (config.env) {
     Object.assign(mergedEnv, config.env);
   }
+  // Resolve passwordCommand entries (e.g., API keys via `gh auth token`)
+  // and merge the resolved secrets into the environment
+  if (config.passwordCommand) {
+    const secrets = resolvePasswordCommands(config.passwordCommand);
+    if (Object.keys(secrets).length > 0) {
+      Object.assign(mergedEnv, secrets);
+    }
+  }
 
   return new StdioClientTransport({
     command: config.command,
